[
    {
        "id": 1,
        "type": "trace-table",
        "title": "【トレース表】whileループの追跡",
        "code": "整数型: i ← 1\n整数型: val ← 2\n\nwhile (val < 10)\n    val ← val * 2\n    i ← i + 1\nendwhile\n\niを出力する",
        "description": "プログラムの動作を1行ずつ追跡し、トレース表を完成させてください。",
        "variables": ["i", "val", "説明"],
        "rows": [
            {
                "step": 1,
                "line": 1,
                "correctValues": {
                    "i": "1",
                    "val": "未定義",
                    "説明": "i←1を実行"
                },
                "pieces": {
                    "i": ["1", "0", "2", "未定義"],
                    "val": ["未定義", "1", "2", "0"],
                    "説明": ["i←1を実行", "val←2を実行", "初期化完了", "ループ開始"]
                },
                "explanation": "1行目 `i ← 1` が実行されました。iに1が代入されますが、valはまだ未定義です。"
            },
            {
                "step": 2,
                "line": 2,
                "correctValues": {
                    "i": "1",
                    "val": "2",
                    "説明": "val←2を実行"
                },
                "pieces": {
                    "i": ["1", "2", "3", "未定義"],
                    "val": ["2", "1", "4", "未定義"],
                    "説明": ["val←2を実行", "i←1を実行", "ループ1回目", "初期化完了"]
                },
                "explanation": "2行目 `val ← 2` が実行されました。valに2が代入されます。iは変わらず1のままです。"
            },
            {
                "step": 3,
                "line": 4,
                "correctValues": {
                    "i": "1",
                    "val": "2",
                    "説明": "条件判定(2<10)"
                },
                "pieces": {
                    "i": ["1", "2", "3", "0"],
                    "val": ["2", "4", "1", "8"],
                    "説明": ["条件判定(2<10)", "ループ終了", "val更新", "i更新"]
                },
                "explanation": "ループ条件 `val < 10` を評価します。val=2なので条件はTrueです。"
            },
            {
                "step": 4,
                "line": 5,
                "correctValues": {
                    "i": "1",
                    "val": "4",
                    "説明": "val←val*2"
                },
                "pieces": {
                    "i": ["1", "2", "3", "0"],
                    "val": ["4", "2", "8", "3"],
                    "説明": ["val←val*2", "i←i+1", "条件判定", "ループ終了"]
                },
                "explanation": "5行目 `val ← val * 2` が実行されました。val=2*2=4になります。"
            },
            {
                "step": 5,
                "line": 6,
                "correctValues": {
                    "i": "2",
                    "val": "4",
                    "説明": "i←i+1"
                },
                "pieces": {
                    "i": ["2", "1", "3", "4"],
                    "val": ["4", "8", "2", "16"],
                    "説明": ["i←i+1", "val←val*2", "条件判定", "ループ終了"]
                },
                "explanation": "6行目 `i ← i + 1` が実行されました。i=1+1=2になります。"
            },
            {
                "step": 6,
                "line": 4,
                "correctValues": {
                    "i": "2",
                    "val": "4",
                    "説明": "条件判定(4<10)"
                },
                "pieces": {
                    "i": ["2", "3", "1", "4"],
                    "val": ["4", "8", "2", "16"],
                    "説明": ["条件判定(4<10)", "ループ終了", "val更新", "i更新"]
                },
                "explanation": "再びループ条件を評価します。val=4なので条件はTrueです。"
            },
            {
                "step": 7,
                "line": 5,
                "correctValues": {
                    "i": "2",
                    "val": "8",
                    "説明": "val←val*2"
                },
                "pieces": {
                    "i": ["2", "3", "1", "4"],
                    "val": ["8", "4", "16", "12"],
                    "説明": ["val←val*2", "i←i+1", "条件判定", "ループ終了"]
                },
                "explanation": "5行目 `val ← val * 2` が実行されました。val=4*2=8になります。"
            },
            {
                "step": 8,
                "line": 6,
                "correctValues": {
                    "i": "3",
                    "val": "8",
                    "説明": "i←i+1"
                },
                "pieces": {
                    "i": ["3", "2", "4", "5"],
                    "val": ["8", "16", "4", "12"],
                    "説明": ["i←i+1", "val←val*2", "条件判定", "ループ終了"]
                },
                "explanation": "6行目 `i ← i + 1` が実行されました。i=2+1=3になります。"
            },
            {
                "step": 9,
                "line": 4,
                "correctValues": {
                    "i": "3",
                    "val": "8",
                    "説明": "条件判定(8<10)"
                },
                "pieces": {
                    "i": ["3", "4", "2", "5"],
                    "val": ["8", "16", "4", "12"],
                    "説明": ["条件判定(8<10)", "ループ終了", "val更新", "i更新"]
                },
                "explanation": "再びループ条件を評価します。val=8なので条件はTrueです。"
            },
            {
                "step": 10,
                "line": 5,
                "correctValues": {
                    "i": "3",
                    "val": "16",
                    "説明": "val←val*2"
                },
                "pieces": {
                    "i": ["3", "4", "2", "5"],
                    "val": ["16", "8", "32", "12"],
                    "説明": ["val←val*2", "i←i+1", "条件判定", "ループ終了"]
                },
                "explanation": "5行目 `val ← val * 2` が実行されました。val=8*2=16になります。"
            },
            {
                "step": 11,
                "line": 6,
                "correctValues": {
                    "i": "4",
                    "val": "16",
                    "説明": "i←i+1"
                },
                "pieces": {
                    "i": ["4", "3", "5", "2"],
                    "val": ["16", "32", "8", "12"],
                    "説明": ["i←i+1", "val←val*2", "条件判定", "ループ終了"]
                },
                "explanation": "6行目 `i ← i + 1` が実行されました。i=3+1=4になります。"
            },
            {
                "step": 12,
                "line": 4,
                "correctValues": {
                    "i": "4",
                    "val": "16",
                    "説明": "条件判定(16<10)"
                },
                "pieces": {
                    "i": ["4", "5", "3", "6"],
                    "val": ["16", "32", "8", "12"],
                    "説明": ["条件判定(16<10)", "ループ継続", "val更新", "i更新"]
                },
                "explanation": "ループ条件を評価します。val=16なので10以上となり、条件はFalseです。ループを抜けます。"
            },
            {
                "step": 13,
                "line": 9,
                "correctValues": {
                    "i": "4",
                    "val": "16",
                    "説明": "iを出力"
                },
                "pieces": {
                    "i": ["4", "3", "5", "16"],
                    "val": ["16", "32", "8", "4"],
                    "説明": ["iを出力", "valを出力", "プログラム終了", "ループ終了"]
                },
                "explanation": "最終行でiを出力します。iの値は4です。"
            }
        ]
    }
]
